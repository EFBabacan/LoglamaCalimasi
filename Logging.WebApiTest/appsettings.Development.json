{
  "Serilog": {
    // Development'ta daha detaylı başla, ama yine de kontrol edilebilir olsun
    "LevelSwitches": { "$controlSwitch": "Debug" }, // Debug seviyesinde başla
    "MinimumLevel": {
      "ControlledBy": "$controlSwitch",
      // Microsoft loglarını da Information seviyesinde görelim
      "Override": {
        "Microsoft": "Information", // Normalde Production'da Warning yaparız
        "Microsoft.Hosting.Lifetime": "Information",
        "System": "Information"
      }
    },
    "Using": [ "PostaGuvercini.Logging", "Serilog.Sinks.File" ],
    "WriteTo": [
      // Kural 0: Konsol HER ZAMAN açık kalsın (Development için olmazsa olmaz)
      {
        "Name": "Console",
        // Development'ta daha okunaklı olması için formatı değiştirebiliriz
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {SourceContext} {Message:lj}{NewLine}{Exception}"
        }
      },
      // Kural 1: Acil Durum (Aynı kalsın)
      {
        "Name": "Logger",
        "Args": {
          "configureLogger": {
            "Filter": [
              {
                "Name": "ByIncludingOnly",
                "Args": { "expression": "Contains(RenderedMessage, 'Ödeme Başarısız') or EventType = 'PaymentFailure'" }
              }
            ],
            "WriteTo": [
              {
                "Name": "BatchedFileSink",
                "Args": {
                  "filePath": "logs/Acil_Hatalar_DEV.txt",
                  "options": {
                    "batchSizeLimit": 5,
                    "period": "0.00:00:01"
                  }
                }
              }
            ]
          }
        }
      },
      // Kural 2: Tüm logları (Microsoft dahil) Seq'e gönderelim (Development'ta her şeyi görmek isteyebiliriz)
      {
        "Name": "Seq",
        "Args": {
          "serverUrl": "http://localhost:5341",
          // Belki development'ta seviyeyi Seq'e özel override edebiliriz
          "restrictedToMinimumLevel": "Debug"
        }
      },
      // Kural 3: Basit bir genel log dosyası (Filtresiz)
      {
        "Name": "File",
        "Args": {
          "path": "logs/development-log-.txt",
          "rollingInterval": "Day",
          "outputTemplate": "{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} [{Level:u3}] {CorrelationId} {SourceContext} {Message:lj} {Properties:j}{NewLine}{Exception}"
        }
      }
    ]
  }
}